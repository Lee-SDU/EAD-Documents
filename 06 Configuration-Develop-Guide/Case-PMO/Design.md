## 分析设计

### 需求说明

- 构建简单的 IT 项目管理工具，支持创建多个项目，包括项目年份、项目基础信息、客户信息、时间信息、付款款信息；
- 创建项目时从已有客户资料中选择并关联客户信息,项目包括前期、合同、需求、设计、开发、运维等状态;
- 同一项目支持创建多条收款记录，收款包括计划、已开票、已收款状态，包含计划收款时间、计划开票时间、实际收款时间、实际开票时间，开出发票后需要上传发票扫描件;
- 支持项目工单创建、计划完成日期、任务指派、任务处理等功能，工单包括待分配、已分配、处理中、暂停、已完成、关闭等状态；
- 运维人员工单查询，运维人员可以查看并处理分配给自己的所有工单，支持按照项目进行过滤；
- 项目管理人员可以总览查看项目基本信息、项目付款进度、项目工单概览；

### 角色设计

- PMO
- 运维人员
- 管理人员

### 模型设计

- 客户信息模型
  - 客户名称（唯一）
  - 客户简称（唯一）
  - 客户编码（唯一）
  - 客户简介
- 项目信息模型
  - 项目名称（唯一，必须）
  - 项目年份（枚举，系统变量默认值）
  - 项目编码（唯一，必须）
  - 项目类型（枚举：开发,运维）
  - 所属客户（客户主键，字典）
  - 合同金额
  - 技术平台（枚举：Windows,Linux,Unix,J2EE,.NET,EAD,BPM）
  - 开始日期
  - 结束日期
  - 项目状态（枚举：前期,合同,需求,设计,开发,运维）
  - 付款进度（总览，虚拟）
  - 超时工单数量（总览，虚拟）
  - 工单总数量（总览，虚拟）
  - 收款记录（子视图）
  - 任务工单（子视图）
- 项目收款记录模型
  - 所属项目（项目主键,外键）
  - 标题
  - 金额
  - 计划日期
  - 开票日期
  - 收款日期
  - 发票信息（枚举:未开票,已开票）
  - 付款状态（枚举:计划,已开票,已收款）
  - 发票扫描件
- 项目工单模型
  - 所属项目（项目主键,外键）
  - 任务标题
  - 计划完成日期
  - 任务级别（枚举：L:低,M:中,H:高）
  - 任务描述
  - 责任人（账号字典）
  - 实际完成时间
  - 任务状态（枚举：待分配,已分配,处理中,暂停,已完成,关闭）
  - 处理说明

### 视图设计

- 客户（PMO）
  - 客户信息管理视图
    - 增、删、改视图动作
  - 客户信息字典
    - 客户简称（标题）
- 项目（PMO）
  - 项目信息管理视图
    - 增、删、改视图动作
  - 项目信息字典
    - 项目编码（标题）
  - 付款记录子视图
    - 增、删、改视图动作
  - 工单子视图
    - 增、删、改视图动作
    - 分配责任人
- 工单处理总览视图（运维人员）
  - 开始
  - 暂停
  - 完成
  - 关闭
- 项目总览视图（管理人员）
