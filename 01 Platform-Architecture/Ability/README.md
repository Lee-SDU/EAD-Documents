## 能力架构

![能力架构](..\images\ability.png)

### Engine

#### Rest Service （Rest 服务）
基于 Spring Boot 实现符合 Restful 风格的 HTTP API 服务。通过 URL 解析，遵循 Restful 风格实现动态路由管理，根据不同的业务需要设置 HTTP 输出定义，渲染和输出 API、文本、HTML、文件、流媒体、消息等多种形式的数据内容。

#### Middleware （中间件层）
平台通用能力注入层，可以在中间层注入 Session、Log、自动登录、全局过滤器等平台通用能力模块，可以根据场景需要不影响已有应用的功能的前提下提升平台的通用能力。

#### Params Parse （参数解析）
解析处理 POST、GET、JSON Body、Cookie、Session 等客户端参数，组装全局参数对象加载到上下文对象向后续环节进行传递。

#### App Navigation （应用导航）
根据路由应用标识，加载当前应用基础配置数据对象加载到上下文对象，通过应用资源和应用角色对当前业务进行权限管理和视图导航。

#### Business Config （业务配置）
开发者通过 EAD 开发者中心定义业务规则数据并存储到配置数据库。EAD 引擎启动自动时加载相应的应用和资源配置数据。引擎根据应用和资源配置数据进行业务导航，在用户对某个功能模块进行访问或操作时根据资源标识加载相应的视图配置数据，引擎根据视图配置数据进行相关功能驱动的调度和数据持久化的管理。


#### Driver Dispatch （驱动调度）
引擎根据视图配置数据对系统变量、视图驱动、查询驱动、动作驱动、ORM 等能力模块进行调度和生命周期管理。

#### Data Management （数据管理）
基于 JDBC 和平台模型配置数据将用户提交的数据进行管理，包括数据校验、数据源管理、数据库适配、数据映射

#### API Compose （API 构造）
根据具体的业务配置数据和客户端请求参数组装和构造数据访问或操作消息对象。

### Rainbow

#### Viewport （交互视图）
Rainbow 为 EAD 平台提供与用户进行业务交互的视窗。

#### Theme Style （主题风格）
支持根据不同的应用加载个性化的主题和风格，允许自定义应用主题和风格。

#### Resources Navigation （资源导航）
根据应用资源 API 动态渲染生成资源导航菜单，通过响应用户界面交互事件调度和请求业务用例 API，创建和管理业务用例视图。通过 Hash Router 在不破坏富客户端交互体验的前提下实现了视图资源个性化 URL 路由。 

#### Template （界面模板）
支持 HTML 模板标签解析，支持布局 HTML 和 JavaScript 分离，降低主题模板的开发难度。

#### Ajax （异步数据请求）
所有服务端数据请求采用 Ajax 方式，支持全局配置 Ajax 跨域模式及相关参数。

#### View Model （视图模型）
基于 Backbone.Model 实现视图模型，通过视图模型数据动态渲染视图组件，各视图组件依赖对视图模型的监听实现彼此的关联。视图模型有效的降低了各个组件之间的耦合度，由数据定义组件，使业务和交互组件进一步分离。

#### View Render （视图渲染）
基于 Backbone.View 实现视图渲染，根据对视图模型的监听实现用户实现的响应和视图组件动态渲染。

#### UI Components （界面组件）
基于 Backbone.View 构建 UI 组件体系，系统内置了列表、表单、表单控件、界面元素等常用类型的 UI 组件。支持基于 Backbone 自定义 UI 组件。
