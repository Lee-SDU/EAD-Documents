### Router 规则

EAD 交互由一些固定 API 格式进行路由，通过这些 API，执行不同的业务模块。

#### 应用路由

| 路由规则 | HTTP 方法 | Content-Type | 路由参数说明 | 路由说明 | 
| ------- | -------- | ------------ | ------- | ------- | 
| /{appName} | GET |  text/html | appName: 应用标识 | 应用入口，后端引擎收到请求，加载应用 HTML 文件 |

#### 系统路由

| 路由规则 | HTTP 方法 | Content-Type | 路由参数说明 | 路由说明 | 
| ------- | -------- | ------------ | ------- | ------- | 
| /{appName}/api/signin | POST |  application/json | appName: 应用标识 | 登录应用 |
| /{appName}/api/signout | POST |  application/json | appName: 应用标识 | 退出登录 |
| /{appName}/api/res | GET |  application/json | appName: 应用标识 | 应用资源树请求 |
| /{appName}/api/change-password | POST |  application/json | appName: 应用标识 | 修改密码 |
| /{appName}/api/change-role | GET |  application/json | appName: 应用标识 | 角色切换 |
| /{appName}/api/login-app | GET |  application/json | appName: 应用标识 | 单点登录 API |

#### 视图路由

声明：

- 所有视图请求为 HTTP 方法都为 GET；
- 所有视图请求为 Content-Type 为 application/json；
- 公共前置路由 `/{appName}/api`, appName 为应用标识；

| 路由规则 | 路由参数说明 | 路由说明 | 
| ------- | ------- | ------- | 
| /{resPath} | resPath: 资源路径 | 视图访问 |
| /{resPath}/{id} | resPath: 资源路径; <br/> id: 数据主键； | 详细数据视图访问 |
| /{resPath}/{id}/{attrName} | resPath: 资源路径; <br/> id: 数据主键; <br/> attrName: 子视图属性名称 | 子视图访问 |
| /{resPath}/{id}/{attrName}/{id} | resPath: 资源路径; <br/> id: 数据主键; <br/> attrName: 子视图属性名称 | 子视图详细数据访问 |

> 注意：最后一条路由：{attrName}/{id} 可以进行嵌套，例如：{attrName}/{id}/{attrName}/{id}/{attrName}/{id}...

#### 视图动作路由

声明：
- 所有视图请求为 Content-Type 为 application/json；
- 公共前置路由 `/{appName}/api`, appName 为应用标识；

| 路由规则 | HTTP 方法 | Content-Type | 路由参数说明 | 路由说明 | 
| ------- | -------- | ------------ | ------- | ------- | 
| /{appName}/api/{resPath} | POST |  application/json | appName: 应用标识;<br/> resPath: 资源路径 | 视图访问 |
| /{appName}/api/{resPath}/{id} | GET |  application/json | appName: 应用标识;<br/> resPath: 资源路径; <br/> id: 数据主键； | 详细数据视图访问 |
| /{appName}/api/{resPath}/{id}/{attrName} | GET |  application/json | appName: 应用标识;<br/> resPath: 资源路径; <br/> id: 数据主键; <br/> attrName: 子视图属性名称 | 子视图访问 |
| /{appName}/api/{resPath}/{id}/{attrName}/{id} | GET |  application/json | appName: 应用标识;<br/> resPath: 资源路径; <br/> id: 数据主键; <br/> attrName: 子视图属性名称 | 子视图详细数据访问 |

> 注意：最后一条路由：{attrName}/{id} 可以进行嵌套，例如：{attrName}/{id}/{attrName}/{id}/{attrName}/{id}...