## 接口协议

### HTTP 方法

所有接口都使用 POST 方法进行请求。

### 字符集编码

UTF-8

### 安全认证

HTTP BASIC 认证，BPM 分配应用账号和密码。

### 请求内容

以 POST 方式通过 Form Data 发送如下表单数据项。

- action;
固定值 ```start```
- createTask;
固定值 ```false```
- params;
传入参数 JSON 字符串。
- parts;
固定值 ```all```

以上 Form 参数除 ```params``` 之外的参数都为 Rest 程序框架固定值的参数。在后续具体接口中定义的请求参数只代表 Form 表单项中 ```params```  参数所对应的 JSON 对象。

### 响应内容

```
{
    "status": "200",
    "data": {
        "serviceStatus": "end",
        "key": "@2666",
        "step": "End",
        "data": {
            "responseMessage": "Start process success.",
            "responseCode": "200",
            "resultMap": {
                "ts_piid": "PIID-e2557421-92ee-4091-b9f2-07096f1383a5",
                "piid": 48918
            }
        },
        "actions": null
    }
}
```

#### 响应码

接口名称|响应码|响应码描述
:--|:--|:--
所有接口|200|响应成功
所有接口|900000|BPM系统内部错误
所有接口|900001|请求参数存在为空的情况
所有接口|900002|没有权限操作
所有接口|900003|无法获取任务
所有接口|900004|无法获取流程实例
所有接口|900005|无法获取环节
提交、驳回接口|910001|审批意见不能为空
提交、驳回接口|910002|流程模板已经暂停，不允许进行提交、驳回操作
提交、驳回接口|910003|驳回特殊处理时出现错误
提交|910004|多环节并发提交异常，需要重新进行提交
提交|910005|保存流程控制信息失败
提交|910006|当前抢单环节已被其他人处理
提交|910007|当前任务为最后一个任务
提交|910008|执行special服务失败
驳回|910009|驳回环节无任务
加签、转办接口|920001|加签、转办不能给自己
加签、转办接口|920002|无法获取指定处理人用户信息
加签、转办接口|920003|转办、加签、加签提交失败
获取下一环节及处理人接口|930001|所有请求参数不能同时为空
获取下一环节及处理人接口|930002|不能获取下一环节
获取下一环节及处理人接口|930003|不能获取下一环节审批人
发起流程接口|9003|无法获取用户信息
发起流程接口|9004|无法获取用户部门信息
发起流程接口|9005|无法获取起草环节信息
发起流程接口|9006|流程发起初始化错误
发起流程接口|9007|流程发起错误
发起流程接口|9008|保存草稿错误
发起流程接口|9009|执行流程发起特殊操作错误
工作台所有接口|809001|平台内部错误
工作台所有接口|809002|请求参数存在为空，或格式错误
待办和已办权限校验接口|809004|无权打开

